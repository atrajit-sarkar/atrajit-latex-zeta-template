%=============================================================================
% EMERALD THEME - Sophisticated Academic Green
% A refined theme inspired by nature and classical academia
%=============================================================================

\NeedsTeXFormat{LaTeX2e}
\ProvidesPackage{atrajit-emerald}[2025/11/17 Emerald Theme for Academic Documents]

%=============================================================================
% ESSENTIAL PACKAGES
%=============================================================================

\RequirePackage{amsmath, amssymb, amsthm}
\RequirePackage{mathtools}
\RequirePackage{bm}
\RequirePackage{mathrsfs}
\RequirePackage{xcolor}
\RequirePackage{graphicx}
\RequirePackage{tikz}
\RequirePackage{tikz-cd}
\usetikzlibrary{positioning, shapes.misc, shapes.symbols, shapes.geometric, decorations.pathmorphing, decorations.markings, shadows}
\RequirePackage{geometry}
\RequirePackage{fancyhdr}
\RequirePackage{enumitem}
\RequirePackage{fontawesome}
\RequirePackage[backend=biber, style=alphabetic]{biblatex}
\RequirePackage{hyperref}

%=============================================================================
% EMERALD COLOR PALETTE - Nature-Inspired Elegance
%=============================================================================

\definecolor{emeraldPrimary}{RGB}{16,123,78}      % Rich emerald green
\definecolor{emeraldSecondary}{RGB}{34,139,34}    % Forest green
\definecolor{emeraldDark}{RGB}{0,86,63}           % Deep jade
\definecolor{emeraldLight}{RGB}{144,238,144}      % Light sage
\definecolor{emeraldAccent}{RGB}{46,204,113}      % Bright mint

%=============================================================================
% HYPERLINK CONFIGURATION - Subtle Emerald Accents
%=============================================================================

\hypersetup{
    colorlinks=true,
    linkcolor=emeraldDark,
    citecolor=emeraldPrimary,
    urlcolor=emeraldSecondary,
    bookmarksnumbered=true
}

%=============================================================================
% PAGE GEOMETRY - Professional Academic Layout
%=============================================================================

\geometry{
    a4paper,
    top=2.5cm,
    bottom=3cm,
    left=2.5cm,
    right=2.5cm,
    headheight=20pt
}

%=============================================================================
% THEOREM ENVIRONMENTS - Elegant Emerald Styling
%=============================================================================

\theoremstyle{definition}
\newtheorem{theorem}{Theorem}[section]
\newtheorem{lemma}[theorem]{Lemma}
\newtheorem{proposition}[theorem]{Proposition}
\newtheorem{corollary}[theorem]{Corollary}
\newtheorem{definition}[theorem]{Definition}
\newtheorem{example}[theorem]{Example}
\newtheorem{remark}[theorem]{Remark}
\newtheorem{exercise}[theorem]{Exercise}

%=============================================================================
% SECTION FORMATTING - Nature-Inspired Headers
%=============================================================================

\newcommand{\currentSubsectionMarkEmerald}{}

% Section: Display with leaf symbol (‚ù¶)
\renewcommand{\sectionmark}[1]{%
    \markboth{{\scshape\S\,\thesection}\enspace\raisebox{-0.15ex}{$\cdot$}\enspace#1}{}%
}

% Subsection: Display with section symbol
\renewcommand{\subsectionmark}[1]{%
    \markright{\S\,\thesubsection\enspace#1}%
    \gdef\currentSubsectionMarkEmerald{%
        \S\,\thesubsection\enspace#1%
    }%
}

%=============================================================================
% CUSTOM UTILITY COMMANDS
%=============================================================================

% TODO marker with leaf icon
\newcommand{\todotea}{\textbf{\textcolor{emeraldPrimary}{TODO}}~\faLeaf}

% Note marker with info icon
\newcommand{\notebell}{\textcolor{emeraldPrimary}{\faInfoCircle}\enspace\textbf{Note:}}

% Important marker with star
\newcommand{\important}{\textcolor{emeraldAccent}{\faStar}\enspace\textbf{Important:}}

%=============================================================================
% LOAD THEME UTILITIES AND MACROS
%=============================================================================

\input{utils-emerald.tex}
\input{macros-emerald.tex}

%=============================================================================
% HEADER & FOOTER SETUP
%=============================================================================

\pagestyle{fancy}
\fancyhf{}
\fancyHeaderContent
\fancyFootPageNum

\endinput
