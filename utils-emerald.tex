%=============================================================================
% UTILITY MACROS AND VISUAL ELEMENTS - EMERALD THEME
%=============================================================================

%-----------------------------------------------------------------------------
% Mathematical Decorations - Leaf Symbol Design
%-----------------------------------------------------------------------------

% Elegant leaf symbol with natural organic styling
\providecommand{\zetacircle}{%
    \tikz[baseline=-0.6ex]{
        % Outer hexagonal frame with rounded corners
        \draw[
            emeraldDark,
            line width=0.6pt,
            rounded corners=1pt
        ] (0,0.58em) -- (0.5em,0.29em) -- (0.5em,-0.29em) -- 
          (0,-0.58em) -- (-0.5em,-0.29em) -- (-0.5em,0.29em) -- cycle;
        
        % Inner circle with natural gradient
        \fill[emeraldLight!30] (0,0) circle (0.5em);
        \draw[
            emeraldSecondary,
            line width=0.5pt
        ] (0,0) circle (0.5em);
        
        % Decorative leaf accent
        \node[
            text=emeraldPrimary,
            font=\Large,
            inner sep=0pt
        ] at (0,0) {$\heartsuit$};
    }%
}

%-----------------------------------------------------------------------------
% Footer Design: Organic Vine Banner
%-----------------------------------------------------------------------------

\providecommand{\fancyFootPageNum}{
    \setlength{\footskip}{60pt}
    \renewcommand{\footrulewidth}{0pt}
    \fancyfoot[C]{
        \vspace{6pt}
        \begin{tikzpicture}[baseline=(page.base)]
            % Left vine decoration
            \draw[emeraldSecondary, line width=0.5pt, decorate, 
                  decoration={snake, amplitude=0.3mm, segment length=3mm}] 
                (-2,0) -- (-0.8,0);
            
            % Left leaf
            \node[
                text=emeraldAccent,
                font=\footnotesize
            ] (left) at (-0.5,0) {$\spadesuit$};
            
            % Main page number badge with leaf motif
            \node[
                rectangle,
                rounded corners=3pt,
                draw=emeraldPrimary,
                fill=emeraldLight!15,
                line width=0.5pt,
                inner xsep=8pt,
                inner ysep=3pt,
                text=emeraldDark,
                font=\small\bfseries,
                drop shadow={opacity=0.1, shadow xshift=0.5pt, shadow yshift=-0.5pt}
            ] (page) at (0,0) {\thepage};
            
            % Right leaf
            \node[
                text=emeraldAccent,
                font=\footnotesize
            ] (right) at (0.5,0) {$\spadesuit$};
            
            % Right vine decoration
            \draw[emeraldSecondary, line width=0.5pt, decorate,
                  decoration={snake, amplitude=0.3mm, segment length=3mm}] 
                (0.8,0) -- (2,0);
            
        \end{tikzpicture}%
    }
}

%-----------------------------------------------------------------------------
% Header Design: Natural Academic Elegance
%-----------------------------------------------------------------------------

\providecommand{\fancyHeaderContent}{
    % Custom header rule with organic feel
    \renewcommand{\headrulewidth}{0pt}
    
    % Decorative header lines
    \fancyhead[L]{%
        \begin{tikzpicture}[remember picture, overlay]
            \draw[emeraldSecondary, line width=0.5pt] 
                ([yshift=-2pt]current page.north west) ++(\oddsidemargin+1in,0) -- 
                ++(\textwidth,0);
            \draw[emeraldAccent, line width=0.2pt, opacity=0.4] 
                ([yshift=-3.8pt]current page.north west) ++(\oddsidemargin+1in,0) -- 
                ++(\textwidth,0);
        \end{tikzpicture}%
    }
    
    % Center header: Section information with leaf decoration
    \fancyhead[C]{%
        \footnotesize\itshape\color{emeraldDark}%
        \leftmark%
        \enspace%
        \textcolor{emeraldAccent}{$\sim$}%
        \;\zetacircle\;%
        \textcolor{emeraldAccent}{$\sim$}%
        \enspace%
        \rightmark%
    }
    
    % Right header: Nature icon
    \fancyhead[R]{%
        \footnotesize\textcolor{emeraldSecondary}{\faLeaf}%
    }
}

%-----------------------------------------------------------------------------
% Ornamental Section Break
%-----------------------------------------------------------------------------

% Decorative section separator with organic elements
\providecommand{\sectionbreak}{%
    \vspace{1em}
    \begin{center}
        \begin{tikzpicture}
            % Left vine
            \draw[emeraldAccent, line width=0.3pt, opacity=0.6, decorate,
                  decoration={snake, amplitude=0.2mm, segment length=2mm}] 
                (-2.2,0) -- (-0.8,0);
            
            % Left leaf
            \node[text=emeraldSecondary, font=\small] at (-0.5,0) {$\spadesuit$};
            
            % Central emerald symbol
            \node at (0,0) {\zetacircle};
            
            % Right leaf
            \node[text=emeraldSecondary, font=\small] at (0.5,0) {$\spadesuit$};
            
            % Right vine
            \draw[emeraldAccent, line width=0.3pt, opacity=0.6, decorate,
                  decoration={snake, amplitude=0.2mm, segment length=2mm}] 
                (0.8,0) -- (2.2,0);
        \end{tikzpicture}
    \end{center}
    \vspace{1em}
}
